// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Jest = require("@glennsl/rescript-jest/src/jest.bs.js");

function makeBucket(capacity, _request) {
  if (capacity !== 0) {
    return {
            TAG: /* Ok */0,
            _0: undefined
          };
  } else {
    return {
            TAG: /* Error */1,
            _0: undefined
          };
  }
}

Jest.describe("Token Bucket Algorithm", (function (param) {
        Jest.test("When a request arrives and the bucket contains tokens, the request is handled and a token is removed from the bucket", (function (param) {
                return Jest.Expect.toEqual(Jest.Expect.expect(makeBucket(1, "ip.1")), {
                            TAG: /* Ok */0,
                            _0: undefined
                          });
              }));
        Jest.test("When a request arrives and the bucket is empty, the request is declined", (function (param) {
                return Jest.Expect.toEqual(Jest.Expect.expect(makeBucket(0, "some.ip")), {
                            TAG: /* Error */1,
                            _0: undefined
                          });
              }));
      }));

exports.makeBucket = makeBucket;
/*  Not a pure module */
