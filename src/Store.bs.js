// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Caml_option = require("rescript/lib/js/caml_option.js");

function make(initialValue) {
  var tokensDict = Object.fromEntries([]);
  return [
          tokensDict,
          initialValue
        ];
}

async function get(param, identifier) {
  var initialValue = param[1];
  var tokensDict = param[0];
  var tokens = tokensDict[identifier];
  if (tokens !== undefined) {
    return Caml_option.valFromOption(tokens);
  } else {
    tokensDict[identifier] = initialValue;
    return initialValue;
  }
}

async function set(param, identifier, value) {
  param[0][identifier] = value;
}

var InMemoryStore = {
  make: make,
  get: get,
  set: set
};

exports.InMemoryStore = InMemoryStore;
/* No side effect */
